{% extends 'base.html' %}

{% block title %}Pending Registration{% endblock title %}

{% block body %}
  <div class="row">
    <div class="col-lg-12">
      <h1 class="page-header">Pending Registrations</h1>
    </div>
  </div>

  <div class="container">
    <div class="row">
      <div class="col-12">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th scope="col">Day</th>
              <th scope="col">Article Name</th>
              <th scope="col">Author</th>
              <th scope="col">Shares</th>
              <th scope="col">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">1</th>
              <td>Bootstrap 4 CDN and Starter Template</td>
              <td>Cristina</td>
              <td>2.846</td>
              <td>
                <button type="button" class="btn btn-primary"><i class="far fa-eye"></i></button>
                <button type="button" class="btn btn-success"><i class="fas fa-edit"></i></button>
              <button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
              </td>
            </tr>
            <tr>
              <th scope="row">2</th>
              <td>Bootstrap Grid 4 Tutorial and Examples</td>
              <td>Cristina</td>
              <td>3.417</td>
              <td>
                <button type="button" class="btn btn-primary"><i class="far fa-eye"></i></button>
                <button type="button" class="btn btn-success"><i class="fas fa-edit"></i></button>
              <button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
              </td>
            </tr>
            <tr>
              <th scope="row">3</th>
              <td>Bootstrap Flexbox Tutorial and Examples</td>
              <td>Cristina</td>
              <td>1.234</td>
              <td>
                <button type="button" class="btn btn-primary"><i class="far fa-eye"></i></button>
                <button type="button" class="btn btn-success"><i class="fas fa-edit"></i></button>
              <button type="button" class="btn btn-danger"><i class="far fa-trash-alt"></i></button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  
      <tr>
        <th scope="row">1</th>
        <td>Mark</td>
        <td>Otto</td>
        <td>@mdo</td>
      </tr>
      <tr>
        <th scope="row">2</th>
        <td>Jacob</td>
        <td>Thornton</td>
        <td>@fat</td>
      </tr>
      <tr>
        <th scope="row">3</th>
        <td>Larry</td>
        <td>the Bird</td>
        <td>@twitter</td>
      </tr>
    </tbody>
  </table>
  
  
  {% if pendingRegs %}
    <ul class="list-group">
      {% for reg in pendingRegs %}
        <div class="row">
          <div class="col-lg-12">
            <li class="list-group-item">
              Name: {{ reg.teacher_id.teacher_name }} | Email: {{ reg.teacher_id.user_id.email }} | Created: {{ reg.teacher_id.created_at }}
                <form style="display: inline;" method="post" action={% url 'pending_registrations' %}>
                  {% csrf_token %}
                    <input type="hidden" name="email" value="{{ reg.teacher_id.user_id.email }}">
                    <input type="submit" value="View" class="mx-2 btn-sm btn-primary">
                </form>
                <form style="display: inline;" method="post" action={% url 'delete_pending_reg' %}>
                  {% csrf_token %}
                  <input type="hidden" name="email" value="{{ reg.teacher_id.user_id.email }}">
                  <input type="submit" value="Discard" class="mx-2 btn-sm btn-danger">
                </form>
            </li>
          </div>
        </div>
      {% endfor %}
    </ul>
  </div>
  {% else %}
    <div class="col-md-4"></div>
      <img src="/media/images/no_data.jpg" alt="No data" width="400" height="400">
  {% endif %}
{% endblock body %}

{% block style %}
.container {
  padding: 2rem 0rem;
}

h4 {
  margin: 2rem 0rem 1rem;
}

.table-image {
  td, th {
    vertical-align: middle;
  }
}
{% endblock style %}



{% block js %}
  <script>
    $(function() {
      $('#side-menu').metisMenu();
    });

    // Loads the correct sidebar on window load, collapses the sidebar on window resize.
    // Sets the min-height of #page-wrapper to window size

    $(function() {
        $(window).bind("load resize", function() {
            topOffset = 50;
            width = (this.window.innerWidth > 0) ? this.window.innerWidth : this.screen.width;
            if (width < 768) {
                $('div.navbar-collapse').addClass('collapse');
                topOffset = 100; // 2-row-menu
            } else {
                $('div.navbar-collapse').removeClass('collapse');
            }

            height = ((this.window.innerHeight > 0) ? this.window.innerHeight : this.screen.height) - 1;
            height = height - topOffset;
            if (height < 1) height = 1;
            if (height > topOffset) {
                $("#page-wrapper").css("min-height", (height) + "px");
            }
        });

        var url = window.location;
        var element = $('ul.nav a').filter(function() {
            return this.href == url || url.href.indexOf(this.href) == 0;
        }).addClass('active').parent().parent().addClass('in').parent();
        if (element.is('li')) {
            element.addClass('active');
        }
    });
  </script>
{% endblock js %}