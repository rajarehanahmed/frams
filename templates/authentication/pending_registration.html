<html>
  <head>
    
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <title>Admin Home</title>
  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
  </head>
  <body>
    <nav class="navbar navbar-fixed-top navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
        </div>
        
        <!Logout Button!>
        <div class="nav navbar-header navbar-profile  pull-right">
          <ul class="nav">
            <li class="dropdown">
              <a data-toggle="dropdown" class="dropdown-toggle"><img src="https://user-images.githubusercontent.com/100554055/168123023-98f69162-c381-4599-a4f0-095d7ebab2a6.svg" width="30" height="30"> {{ request.user }} <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li>
                  <a href={% url 'signout' %} title="Logout">Logout </a>
                </li>
              </ul>
            </li>
          </ul>
        </div>
        <!Logout Button!>
        
        
        <!Nav Bar!>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li><a href={% url 'office_home' %}>Home</a></li>
            <li><a href="/admin">Admin Panel</a></li>
            <!drop down teacher!>
            <li class="dropdown">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle"> Teacher<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li>
                  <a href={% url 'add_teacher' %} title="add_teacher">Add Teacher</a>
                </li>
                <li>
                  <a href={% url 'pending_registrations' %} title="pending_registration">Pending Registration</a>
                </li>
                  <li>
                  <a href="#" title="reports">Reports</a>
                </li>
              </ul>
            </li>      
            <!drop down teacher!>

            <!drop down student!>
            <li class="dropdown">
              <a href="#" data-toggle="dropdown" class="dropdown-toggle"> Student<b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li>
                  <a href={% url 'add_student' %} title="add_students">Add Student</a>
                </li>
                  <li>
                  <a href="#" title="st_reports">Reports</a>
                </li>
              </ul>
            </li>      
          </ul>
        </div>
      </div>
    </nav>

    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        <strong>{{message}}!</strong>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
    {% endfor %}

    <!-- ye pending registrations page pe show ni hoti keun k tum bootsrap ka kui neya version use kr rhy ho
    Mny neya verion add kiya to layout khrab ho jata hai, iss ko set kro jasiy b krna hai -->
    {% for reg in pendingRegs %}
      <div class="container my-4">
          Name: {{ reg.teacher_id.teacher_name }} | Email: {{ reg.teacher_id.user_id.email }} | Created: {{ reg.teacher_id.created_at }}
          <form style="display: inline;" method="post" action={% url 'pending_registrations' %}>
            {% csrf_token %}
            <input type="hidden" name="email" value="{{ reg.teacher_id.user_id.email }}">
            <input type="submit" value="View" class="mx-2 btn-sm btn-primary">
          </form>
          <form style="display: inline;" method="post" action={% url 'delete_pending_reg' %}>
            {% csrf_token %}
            <input type="hidden" name="email" value="{{ reg.teacher_id.user_id.email }}">
            <input type="submit" value="Delete" class="mx-2 btn-sm btn-danger">
          </form>
      </div>
    {% endfor %}


  </body>

  <style>
    .navbar-profile ul.nav > li > a {
      color: #134e0a;
      padding-top: 15px;
      padding-bottom: 15px;
      line-height: 20px;
    }

    .navbar-profile ul.nav > li .dropdown-menu {
      right: 0;
      left: auto;
    }

    @media (max-width: 767px) {
      .navbar-profile {
        position: absolute;
        display: inline-block;
        width: auto;
        right: 80px;
        top: 0;
        text-align: center;
        margin: auto;
      }
    }

    .navbar-default {
      background-color: #21a860;
    }
    .navbar-default .navbar-nav>li>a {
      color: white;
    }
  </style>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</html>